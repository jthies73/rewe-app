name: GitHub Actions Pipeline ðŸš€
run-name: ${{ github.actor }} is deploying rewe-app ðŸš€
on: [push]
jobs:
  Deploy-Rewe-Fe:
    runs-on: self-hosted
    steps:
      - run: ls -al
        working-directory: ./rewe-fe
      - run: ls -al
      - run: echo "Building rewe-fe image"
      - run: docker build -t rewe-fe-image .
      - run: docker stop rewe-fe || true && docker rm rewe-fe || true
      - run: echo "Deploying rewe-fe image ðŸš€"
      - run: docker run -d --net rewe-net --ip 172.41.0.21 --name rewe-fe rewe-fe-image
  Deploy-Rewe-Be:
    runs-on: self-hosted
    steps:
      - run: ls -al
      - run: echo "Deploying rewe-be ðŸš€"
